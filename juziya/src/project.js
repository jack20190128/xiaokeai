require=function c(s,a,l){function r(t,e){if(!a[t]){if(!s[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(h)return h(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var n=a[t]={exports:{}};s[t][0].call(n.exports,function(e){return r(s[t][1][e]||e)},n,n.exports,c,s,a,l)}return a[t].exports}for(var h="function"==typeof require&&require,e=0;e<l.length;e++)r(l[e]);return r}({BackOpenScence:[function(e,t,i){"use strict";cc._RF.push(t,"a2afeZWoVVA/rzi3Porfbkp","BackOpenScence"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene("Open")})}}),cc._RF.pop()},{}],Begin:[function(e,t,i){"use strict";cc._RF.push(t,"c4c13t5nUJJmIxcSAptYDwA","Begin"),cc.Class({extends:cc.Component,properties:{clickAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.node.on("touchstart",function(){cc.audioEngine.play(this.clickAudio,!1,Global.volume),cc.director.resume(),cc.director.loadScene("LevelMenu"),cc.find("toLevelMenu").active=!1})}}),cc._RF.pop()},{}],Cameras:[function(e,t,i){"use strict";cc._RF.push(t,"dbeb0wfxQVBsrYytrljzTXG","Cameras"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},map:{default:null,type:cc.Node},isRun:!0},onLoad:function(){this.boundingBox=cc.rect(0,0,this.map.width,this.map.height);var e=cc.winSize;this.screenMiddle=cc.v2(e.width/2,e.height/2),this.minX=-(this.boundingBox.xMax-e.width),this.maxX=this.boundingBox.xMin,this.minY=-(this.boundingBox.yMax-e.height),this.maxY=this.boundingBox.yMin},update:function(){if(this.isRun){var e=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),t=this.target.convertToWorldSpaceAR(cc.Vec2.ZERO),i=e.sub(t),o=this.screenMiddle.add(i);o.x=cc.clampf(o.x,this.minX,this.maxX),o.y=this.minY,this.node.position=this.node.parent.convertToNodeSpaceAR(o)}}}),cc._RF.pop()},{}],CoinJump:[function(e,t,i){"use strict";cc._RF.push(t,"8ebf1qYv7hEb5mZlsa1vts1","CoinJump"),cc.Class({extends:cc.Component,properties:{jumpHeight:0,jumpDuring:0,jumpAudio:{default:null,url:cc.AudioClip}},setJumpAction:function(){var e=cc.fadeIn(0),t=cc.fadeOut(1),i=cc.moveBy(this.jumpDuring,cc.p(0,this.jumpHeight)).easing(cc.easeCubicActionOut()),o=cc.moveBy(this.jumpDuring,cc.p(0,-this.jumpHeight)).easing(cc.easeCubicActionIn());return cc.sequence(e,i,o,t)},onLoad:function(){this.jumpAction=this.setJumpAction(),this.node.runAction(this.jumpAction),this.scheduleOnce(function(){this.node.removeFromParent()},1)}}),cc._RF.pop()},{}],Coin:[function(e,t,i){"use strict";cc._RF.push(t,"3ba94wrvIxKKJ6Jr8J5BfzK","Coin");var o=e("storageManager");cc.Class({extends:cc.Component,properties:{coin_label:cc.Label,coinNum:0,hightestScoreLabel:cc.Label},onLoad:function(){},addCoin:function(){this.coinNum++,this.coin_label.string=this.coinNum+"",o.getHighestScore()<this.coinNum&&(o.setHighestScore(this.coinNum),this.changeHightestScoreLabel())},changeHightestScoreLabel:function(){this.hightestScoreLabel.string="最高分:"+o.getHighestScore()}}),cc._RF.pop()},{storageManager:"storageManager"}],CreateCoin:[function(e,t,i){"use strict";cc._RF.push(t,"a01b6+gfltMxK3RyTZiykQa","CreateCoin"),cc.Class({extends:cc.Component,properties:{CoinJump:cc.Prefab,mushroom:cc.Prefab,isCollisionable:!0},onLoad:function(){this.node.scaleX=1,cc.director.getCollisionManager().enabled=!0,this.anim=this.getComponent(cc.Animation),this.node.setLocalZOrder(1)},onCollisionEnter:function(e,t){var i=e.world.aabb,o=e.world.preAabb.clone(),n=t.world.aabb,c=t.world.preAabb.clone();if(c.y=n.y,o.y=i.y,cc.Intersection.rectRect(c,o)&&c.yMin>o.yMin){if(this.isCollisionable){if(7==t.tag)var s=cc.instantiate(this.mushroom);else{Global.isGotCoin=!0;s=cc.instantiate(this.CoinJump)}var a=cc.find("Scence");s.position=a.convertToNodeSpace(cc.p(n.x+30,n.y+30)),a.addChild(s),this.isCollisionable=!1}this.anim.play("bonusBlocked")}}}),cc._RF.pop()},{}],Enemy:[function(e,t,i){"use strict";cc._RF.push(t,"7fdf6S0LjpIKIAkzQ2cEeHo","Enemy");cc.Class({extends:cc.Component,properties:{speed:cc.v2(0,0),scaleX:1,canMove:!0,dieAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.node.scaleX=1,cc.director.getCollisionManager().enabled=!0,this.anim=this.getComponent(cc.Animation)},onCollisionEnter:function(e,t){Global.enemyIsAlive||(this.todie(),Global.enemyIsAlive=!0),5==e.tag&&(this.turn(),this.speed.x=-this.speed.x);var i=e.world.aabb,o=e.world.preAabb.clone(),n=t.world.aabb,c=t.world.preAabb.clone();c.y=n.y,o.y=i.y,cc.Intersection.rectRect(c,o)&&c.yMax<o.yMax&&"rabbit"==e.node.group&&this.todie()},todie:function(){cc.audioEngine.play(this.dieAudio,!1,Global.volume),this.anim.play("beetled"),this.canMove=!1,this.node.height=.3*this.node.height,this.node.runAction(cc.fadeOut(.5)),this.scheduleOnce(function(){this.node.removeFromParent()},.5)},update:function(e){this.canMove&&(this.node.x-=this.speed.x*e)},turn:function(){this.node.scaleX=-this.node.scaleX}});cc._RF.pop()},{}],Follow:[function(e,t,i){"use strict";cc._RF.push(t,"6e1d6G8lidMDIN6Cgy1dJ7F","Follow"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node}},onLoad:function(){if(this.node.active=!cc.sys.isMobile,this.target){var e=cc.follow(this.target,cc.rect(0,0,2e3,2e3));this.node.runAction(e)}}}),cc._RF.pop()},{}],GameBegin:[function(e,t,i){"use strict";cc._RF.push(t,"5b76fT6gzNHC49hdzDlxgzR","GameBegin"),cc.Class({extends:cc.Component,properties:{underGroundAudio:{default:null,url:cc.AudioClip},slider_h:cc.Slider,music:cc.AudioSource},onLoad:function(){this.slider_h.progress=0,this._updateMusicVolume(this.slider_h.progress),cc.audioEngine.stopAll(),cc.audioEngine.play(this.underGroundAudio,!0,Global.volume);var e=cc.scaleTo(.8,.9),t=cc.scaleTo(.8,1),i=cc.sequence(e,t),o=cc.repeatForever(i);this.node.runAction(o),this.node.on("touchstart",function(){cc.director.loadScene("LevelMenu")})},onSliderHEvent:function(e,t){this._updateMusicVolume(e.progress)},_updateMusicVolume:function(e){this.music.volume=e,Global.volume=this.music.volume},endGame:function(){cc.game.end()},toActiveVolumeBar:function(){cc.find("over").active=!0},disActiveVolumeBar:function(){cc.find("over").active=!1}}),cc._RF.pop()},{}],Globals:[function(e,t,i){"use strict";cc._RF.push(t,"dca88jpta1DuK/bXuQ1Lw8z","Globals"),window.Global={isGotCoin:!1,addSpeed:1,level2Open:!1,enemyIsAlive:!0,playIsAlive:!0,volume:0},cc._RF.pop()},{}],PauseAndResume:[function(e,t,i){"use strict";cc._RF.push(t,"241edTohb5AIrguFUcmnGsL","PauseAndResume"),cc.Class({extends:cc.Component,properties:{clickAudio:{default:null,url:cc.AudioClip}},onLoad:function(){},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.isPaused()?(cc.director.resume(),cc.audioEngine.resumeAll(),cc.find("ResumeButton").active=!1,cc.find("PauseButton").active=!0):(cc.audioEngine.pauseAll(),cc.director.pause(),cc.find("ResumeButton").active=!0,cc.find("PauseButton").active=!1)})}}),cc._RF.pop()},{}],Player:[function(e,t,i){"use strict";cc._RF.push(t,"2e66eJge+BL57qY3mRQHD55","Player");e("Enemy");cc.Class({extends:cc.Component,properties:{speed:cc.v2(0,0),maxSpeed:cc.v2(2e3,2e3),gravity:-1e3,drag:1e3,direction:0,jumpSpeed:300,jumpCount:0,hunker:!1,isWallCollisionCount:0,getScore:0,isDied:!1,CoinJump:cc.Prefab,fallDown:!1,life:1,buttonIsPressed:!1,rabbit:{default:null,type:cc.AnimationClip},dieAudio:{default:null,url:cc.AudioClip},jumpAudio:{default:null,url:cc.AudioClip},hit_block_Audio:{default:null,url:cc.AudioClip},player_decrease_Audio:{default:null,url:cc.AudioClip},world1_music:{default:null,url:cc.AudioClip}},onLoad:function(){Global.playIsAlive=!0,cc.audioEngine.stopAll(),cc.audioEngine.play(this.world1_music,!0,Global.volume),cc.director.getCollisionManager().enabled=!0;var e=this.getComponents(cc.PolygonCollider);e[0].enabled=!0,e[1].enabled=!1,cc.find("over").active=!1,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.collisionX=0,this.collisionY=0,this.prePosition=cc.v2(),this.preStep=cc.v2(),this.touchingNumber=0,this.anim=this.getComponent(cc.Animation),this.node.setLocalZOrder(999),this.Score=cc.find("ScoreBar").getComponent("Score")},reStart:function(){Global.playIsAlive=!0},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},onKeyDown:function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:this.playerLeft();break;case cc.KEY.d:case cc.KEY.right:this.playerRight();break;case cc.KEY.w:case cc.KEY.up:this.playerUp();break;case cc.KEY.down:case cc.KEY.s:this.playerDown()}},onKeyUp:function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:case cc.KEY.d:case cc.KEY.right:this.noLRControlPlayer();break;case cc.KEY.up:case cc.KEY.w:this.noUpControlPlayer();break;case cc.KEY.s:case cc.KEY.down:this.noDownControlPlayer()}},noDownControlPlayer:function(){0!==this.touchingNumber&&(this.isDied||(0!==this.direction?this.player_walk():this.player_idle(),this.hunker=!1))},noLRControlPlayer:function(){this.direction=0,this.isDied||0!=this.jumpCount||this.player_idle(),this.buttonIsPressed=!1},noUpControlPlayer:function(){this.touchingNumber},playerLeft:function(){-1===this.direction||0!=this.jumpCount||this.isDied||this.player_walk(),this.buttonIsPressed=!0,this.turnLeft(),this.direction=-1},playerRight:function(){1===this.direction||0!=this.jumpCount||this.isDied||this.player_walk(),this.buttonIsPressed=!0,this.turnRight(),this.direction=1},playerUp:function(){console.log("this.jumping: "+this.jumping),console.log("this.jumpCount: "+this.jumpCount),this.jumping||0!=this.jumpCount||this.isDied||(this.player_jump(),this.speed.y=this.jumpSpeed,this.jumping=!0)},playerDown:function(){0!==this.touchingNumber&&(this.hunker||this.isDied||(this.player_hunker(),this.hunker=!0))},player_idle:function(){this.anim.play("player_idle")},player_walk:function(){this.anim.play("player_walk")},player_jump:function(){cc.audioEngine.play(this.jumpAudio,!1,Global.volume),this.anim.play("player_jump")},player_hunker:function(){this.anim.play("player_hunker")},rabbitJump:function(){this.anim.play("player_jump"),this.speed.y=.5*this.jumpSpeed},rabbitDieJump:function(){var e=this;cc.audioEngine.play(this.dieAudio,!1,Global.volume),this.anim.play("player_die"),this.speed.y=this.jumpSpeed,cc.director.getCollisionManager().enabled=!1,this.touchingNumber=0,this.isDied=!0,this.life=0,this.node.parent.getComponent("Cameras").isRun=!1,Global.playIsAlive=!1,setTimeout(function(){e.node.destroy()},2100)},OverNodeLoad:function(){0==this.life&&this.scheduleOnce(function(){cc.find("over").active=!0},2)},onCollisionEnter:function(e,t){switch(0==this.touchingNumber&&(this.buttonIsPressed?this.player_walk():this.player_idle()),e.tag){case 1:this.collisionCoinEnter(e,t);break;case 2:case 3:case 7:this.collisionBonusWallEnter(e,t);break;case 4:this.collisionEnemyEnter(e,t);break;case 5:this.collisionPlatformEnter(e,t);break;case 6:this.collisionWaterEnter(e,t);break;case 8:this.collisionMushroomEnter(e,t)}},collisionMushroomEnter:function(e,t){var i=this.getComponents(cc.PolygonCollider);i[0].enabled=!0,i[1].enabled=!1;var o=cc.scaleBy(1,5/3);this.node.runAction(o),this.life=2},collisionEnemyEnter:function(e,t){var i=e.world.aabb,o=e.world.preAabb.clone(),n=t.world.aabb,c=t.world.preAabb.clone();if(c.x=n.x,o.x=i.x,cc.Intersection.rectRect(c,o)){if(2==this.life){cc.audioEngine.play(this.player_decrease_Audio,!1,Global.volume);var s=cc.scaleBy(1,.6);this.node.runAction(s),this.life--}else if(1==this.life)return this.anim.play("player_die"),this.rabbitDieJump(),void this.OverNodeLoad();return this.speed.x<0&&c.xMax>o.xMax?(this.node.x+=Math.floor(Math.abs(i.xMax-n.xMin)),this.collisionX=-1):0<this.speed.x&&c.xMin<o.xMin&&(this.node.x-=Math.floor(Math.abs(i.xMin-n.xMax)),this.collisionX=1),this.speed.x=0,void(e.touchingX=!0)}if(c.y=n.y,o.y=i.y,cc.Intersection.rectRect(c,o)){if(this.speed.y<0&&c.yMax>o.yMax)return void this.rabbitJump();if(0<this.speed.y&&c.yMax<o.yMax)if(2==this.life){s=cc.scaleBy(1,.6);this.node.runAction(s),this.life--}else if(1==this.life)return this.anim.play("player_die"),this.rabbitDieJump(),void this.OverNodeLoad();this.speed.y=0,e.touchingY=!0}this.isWallCollisionCount++},collisionCoinEnter:function(e,t){e.node.removeFromParent(),this.Score.addCoin()},collisionWaterEnter:function(e,t){var i=e.world.aabb,o=e.world.preAabb.clone(),n=t.world.aabb,c=t.world.preAabb.clone();c.y=n.y,o.y=i.y,cc.Intersection.rectRect(c,o)&&console.log("other: "+e.tag),cc.audioEngine.play(this.dieAudio,!1,Global.volume),this.anim.play("player_die"),this.life=0,Global.playIsAlive=!1,this.node.runAction(cc.fadeOut(.5)),this.OverNodeLoad(),this.scheduleOnce(function(){this.node.removeFromParent()},2),this.node.parent.getComponent("Cameras").isRun=!1},collisionBonusWallEnter:function(e,t){this.touchingNumber++,this.jumpCount=0;var i=e.world.aabb,o=e.world.preAabb.clone(),n=t.world.aabb,c=t.world.preAabb.clone();if(c.x=n.x,o.x=i.x,cc.Intersection.rectRect(c,o))return this.speed.x<0&&c.xMax>o.xMax?Math.abs(c.yMin-o.yMax)<.3?this.collisionX=0:this.collisionX=-1:0<this.speed.x&&c.xMin<o.xMin&&(Math.abs(c.yMin-o.yMax)<.3?this.collisionX=0:this.collisionX=1),this.speed.x=0,void(e.touchingX=!0);c.y=n.y,o.y=i.y,cc.Intersection.rectRect(c,o)&&(Global.isGotCoin&&(this.Score.addCoin(),Global.isGotCoin=!1),this.speed.y<0&&c.yMax>o.yMax?(this.node.y=o.yMax-this.node.parent.y,this.jumping=!1,this.collisionY=-1):0<this.speed.y&&c.yMin<o.yMin?(this.node.y=o.yMin-c.height-this.node.parent.y,this.collisionY=1):c.xMax==o.xMin&&(this.fallDown=!0),this.speed.y=0,e.touchingY=!0),this.isWallCollisionCount++},collisionPlatformEnter:function(e,t){this.touchingNumber++,this.jumpCount=0;var i=e.world.aabb,o=e.world.preAabb.clone(),n=t.world.aabb,c=t.world.preAabb.clone();if(c.x=n.x,o.x=i.x,cc.Intersection.rectRect(c,o))return this.speed.x<0&&c.xMax>o.xMax?(this.node.x+=Math.floor(Math.abs(i.xMax-n.xMin)),this.collisionX=-1):0<this.speed.x&&c.xMin<o.xMin?(this.node.x-=Math.floor(Math.abs(i.xMin-n.xMax)),this.collisionX=1):0==this.speed.x&&c.xMax==o.xMin&&(this.fallDown=!0),this.speed.x=0,void(e.touchingX=!0);c.y=n.y,o.y=i.y,cc.Intersection.rectRect(c,o)&&(this.speed.y<0&&c.yMax>o.yMax?(this.node.y=o.yMax-this.node.parent.y,this.jumping=!1,this.collisionY=-1):0<this.speed.y&&c.yMin<o.yMin&&(cc.audioEngine.play(this.hit_block_Audio,!1,Global.volume),this.node.y=o.yMin-c.height-this.node.parent.y,this.collisionY=1),this.speed.y=0,e.touchingY=!0),this.isWallCollisionCount++},onCollisionStay:function(e,t){if(Global.playIsAlive||(6!==e.tag?(this.rabbitDieJump(),this.OverNodeLoad()):cc.audioEngine.play(this.dieAudio,!1,Global.volume)),this.jumpCount=0,-1===this.collisionY&&"Platform"===e.node.group){var i=e.node.getComponent("PlatformMotion");i&&(this.node.x+=i._movedDiff)}},onCollisionExit:function(e){this.fallDown=!1,"platform"==e.node.group&&(console.log("this.touchingNumber: "+this.touchingNumber),this.touchingNumber--),this.jumpCount=1,0!==this.jumpCount&&0===this.touchingNumber&&this.anim.play("player_jump"),0===this.touchingNumber&&(this.jumping=!0),e.touchingX?(this.collisionX=0,e.touchingX=!1):e.touchingY&&(this.collisionY=0,e.touchingY=!1),this.isWallCollisionCount--},update:function(e){(0===this.touchingNumber||this.fallDown||-1===this.touchingNumber)&&(this.speed.y+=this.gravity*e,Math.abs(this.speed.y)>this.maxSpeed.y&&(this.speed.y=0<this.speed.y?this.maxSpeed.y:-this.maxSpeed.y)),600<this.node.y&&(this.touchingNumber=0),0===this.direction?0<this.speed.x?(this.speed.x-=this.drag*e,this.speed.x<=0&&(this.speed.x=0)):this.speed.x<0&&(this.speed.x+=this.drag*e,0<=this.speed.x&&(this.speed.x=0)):(this.speed.x+=(0<this.direction?1:-1)*this.drag*e,Math.abs(this.speed.x)>this.maxSpeed.x&&(this.speed.x=0<this.speed.x?this.maxSpeed.x:-this.maxSpeed.x)),0<this.speed.x*this.collisionX&&(this.speed.x=0),this.prePosition.x=this.node.x,this.prePosition.y=this.node.y,this.preStep.x=this.speed.x*e,this.preStep.y=this.speed.y*e,this.node.x+=this.speed.x*e*Global.addSpeed,this.node.y+=this.speed.y*e},turnLeft:function(){this.node.scaleX=-Math.abs(this.node.scaleX)},turnRight:function(){this.node.scaleX=Math.abs(this.node.scaleX)}}),cc._RF.pop()},{Enemy:"Enemy"}],PreBegin:[function(e,t,i){"use strict";cc._RF.push(t,"f7dbbhJ/wBChqUth7YIerZP","PreBegin"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene("Open")})}}),cc._RF.pop()},{}],Question:[function(e,t,i){"use strict";cc._RF.push(t,"b8f48x7N/1HH5XqB3x9Rd+7","Question"),cc.Class({extends:cc.Component,properties:{questions:{default:[],type:[cc.Node]},question1:{default:[],type:[cc.Node]},tipBox:{default:null,type:cc.Node},label:{default:null,type:cc.Label},editBox1:cc.EditBox,editBox2:cc.EditBox},onLoad:function(){cc.director.preloadScene("Open",function(){console.log("Open ok")}),cc.director.preloadScene("Main",function(){console.log("Main ok")}),cc.director.preloadScene("LevelMenu",function(){console.log("LevelMenu ok")})},start:function(){},question1Next:function(){this.question1[2].active?(console.log("正确"),this.questions[0].active=!1,this.questions[1].active=!0):(console.log("你对自己的认知不够到位"),this.showTip("你对自己的认知不够到位"))},question2Next:function(){var e=this.editBox1.string,t=parseInt(e);t==t?99<t?this.showTip("偏重了！！！！"):t<99?this.showTip("报轻了哈"):99===t&&(console.log("正确"),this.questions[1].active=!1,this.questions[2].active=!0):this.showTip("你家体重不是数字呢")},question3Next:function(){var e=this.editBox2.string,t=parseInt(e);t==t?18<t?this.showTip("橘子永远18！！！"):t<18?this.showTip("橘子永远18！！！"):18===t&&cc.director.loadScene("Open"):this.showTip("你家年龄不是数字呢")},showTip:function(e){var t=this;this.tipBox.active||(this.label.string=e,this.tipBox.active=!0,this.scheduleOnce(function(){t.tipBox.active=!1},1))},hideTip:function(){this.tipBox.active=!1}}),cc._RF.pop()},{}],Score:[function(e,t,i){"use strict";cc._RF.push(t,"e9d84RGnz9LwYkwZfEBuqCg","Score");var o=e("storageManager");cc.Class({extends:cc.Component,properties:{gold_label:cc.Label,coinNum:0,hightestScoreLabel:cc.Label,coinAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.hightestScoreLabel.string="最高分: "+o.getHighestScore()},addCoin:function(){cc.audioEngine.play(this.coinAudio,!1,Global.volume),this.coinNum++,this.gold_label.string=this.coinNum+"",o.getHighestScore()<this.coinNum&&(o.setHighestScore(this.coinNum),this.changeHightestScoreLabel())},changeHightestScoreLabel:function(){this.hightestScoreLabel.string="最高分: "+o.getHighestScore()}}),cc._RF.pop()},{storageManager:"storageManager"}],Snail:[function(e,t,i){"use strict";cc._RF.push(t,"935b86zmetGLpOfEiSOvHjM","Snail");cc.Class({extends:cc.Component,properties:{speed:cc.v2(0,0),maxSpeed:cc.v2(2e3,2e3),scaleX:1,hurtNum:0,gravity:-1e3,isAlive:!0,canMove:!0,dieAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.touchingNumber=0,this.node.scaleX=1,cc.director.getCollisionManager().enabled=!0,this.anim=this.getComponent(cc.Animation)},onCollisionEnter:function(e,t){if("snailBlock"==e.node.group&&this.isAlive)return this.turn(),void(this.speed.x=-this.speed.x);"enemy"!=e.node.group||this.isAlive||(Global.enemyIsAlive=!1),5==e.tag&&(this.touchingNumber++,this.speed.x=-this.speed.x,this.turn());var i=e.world.aabb,o=e.world.preAabb.clone(),n=t.world.aabb,c=t.world.preAabb.clone();c.y=n.y,o.y=i.y,cc.Intersection.rectRect(c,o)&&(c.yMax<o.yMax&&("rabbit"==e.node.group&&0==this.hurtNum&&cc.audioEngine.play(this.dieAudio,!1,Global.volume),this.hurtNum++,this.anim.play("snaild"),1==this.hurtNum?(this.canMove=!1,this.isAlive=!1):(this.canMove=!0,this.speed.x=500),console.log("this.canMove: "+this.canMove)),c.xMax>o.xMax&&(this.turn(),this.speed.x=-this.speed.x),c.xMin<o.xMin&&(this.turn(),this.speed.x=-this.speed.x)),cc.Intersection.rectRect(c,o)&&(this.speed.y<0&&c.yMax>o.yMax?this.node.y=o.yMax-this.node.parent.y:0<this.speed.y&&c.yMin<o.yMin&&(this.node.y=o.yMin-c.height-this.node.parent.y),this.speed.y=0)},onCollisionExit:function(e){5==e.tag&&this.touchingNumber--},update:function(e){this.canMove&&(this.node.x-=this.speed.x*e),0===this.touchingNumber&&(this.speed.y+=this.gravity*e,Math.abs(this.speed.y)>this.maxSpeed.y&&(this.speed.y=0<this.speed.y?this.maxSpeed.y:-this.maxSpeed.y)),this.node.y+=this.speed.y*e},turn:function(){this.node.scaleX=-this.node.scaleX}});cc._RF.pop()},{}],TiledMap01:[function(e,t,i){"use strict";var o;function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"21a94DkW5JMXoBfE5PquxSU","TiledMap01");cc.Enum({NONE:0,UP:1,DOWN:2,LEFT:3,RIGHT:4});cc.Class({extends:cc.Component,properties:(o={curMap:cc.TiledMap,PointsName:{default:"points"},playerName:{default:"player"},finishName:{default:"finish"},Wall:{default:"wall"},Ground:{default:"ground"},destroyable_blocksName:{default:"destroyable_blocks"},bonus_blocksName:{default:"bonus_blocks"},CoinsName:{default:"coins"},enemyName:{default:"enemies"},CoinsPre:cc.Prefab,ColliderPreName:cc.Prefab,breakableWallPre:cc.Prefab,bonusWallPre:cc.Prefab,enemyBeetle:cc.Prefab,enemySnail:cc.Prefab,castle_finish:cc.Prefab,snailBlockPre:cc.Prefab,_isMapLoaded:{default:!1,serializable:!1},player:cc.Node,CollisionsGroupName:{default:"physics"},collisions:[],collisionName:[],floorLayerName:{default:"floor"},waterLayerName:{default:"water"}},n(o,"finishName",{default:"finish"}),n(o,"snailBlockName",{default:"snailBlock"}),o),onLoad:function(){this._TiledMap=this.curMap.getComponent("cc.TiledMap")},start:function(e){if(!e&&(this._layerFloor=this._TiledMap.getLayer(this.floorLayerName),this._layerFloor)){var t=this._TiledMap.getObjectGroup(this.playerName),i=this._TiledMap.getObjectGroup(this.finishName),o=this._TiledMap.getObjectGroup(this.CoinsName),n=this._TiledMap.getObjectGroup(this.CollisionsGroupName),c=this._TiledMap.getObjectGroup(this.destroyable_blocksName),s=this._TiledMap.getObjectGroup(this.bonus_blocksName),a=this._TiledMap.getObjectGroup(this.enemyName),l=this._TiledMap.getObjectGroup(this.waterLayerName),r=this._TiledMap.getObjectGroup(this.finishName),h=this._TiledMap.getObjectGroup(this.snailBlockName),u=r.getObject("finishPoint").sgNode,d=cc.instantiate(this.castle_finish);if(d.x=u.x,d.y=u.y+200,this.node.addChild(d),t&&i){for(var p=1;p<3;p++){var m="snailBlock"+p,y=h.getObject(m).sgNode,f=cc.instantiate(this.snailBlockPre);f.width=y.width,f.height=y.height,f.x=y.x,f.y=y.y-y.height,f.addComponent(cc.BoxCollider),f.getComponent(cc.BoxCollider).size=new cc.size(f.width,f.height),f.getComponent(cc.BoxCollider).offset=new cc.size(f.width/2,-f.height/2),f.getComponent(cc.BoxCollider).tag=9,this.node.addChild(f)}for(p=1;p<8;p++){var g="water"+p,b=l.getObject(g).sgNode,x=cc.instantiate(this.ColliderPreName);x.group="water",x.width=b.width,x.height=b.height,x.x=b.x,x.y=b.y-b.height,x.addComponent(cc.BoxCollider),x.getComponent(cc.BoxCollider).size=new cc.size(x.width,x.height),x.getComponent(cc.BoxCollider).offset=new cc.size(x.width/2,-x.height/2),console.log("watersgNode.height: "+b.height),x.getComponent(cc.BoxCollider).tag=6,this.node.addChild(x)}for(p=1;p<17;p++){var C="enemy"+p,v=a.getObject(C).sgNode;if(5==p||9==p)var _=cc.instantiate(this.enemySnail);else _=cc.instantiate(this.enemyBeetle);_.x=v.x,_.y=v.y,this.node.addChild(_)}for(p=1;p<30;p++){var M="destroyable_blocks"+p,A=c.getObject(M).sgNode,w=cc.instantiate(this.breakableWallPre);w.x=A.x,w.y=A.y,this.node.addChild(w)}for(p=1;p<7;p++){var S="bonus_block"+p,N=s.getObject(S),B=N.sgNode,E=cc.instantiate(this.bonusWallPre);E.setLocalZOrder(99),E.x=B.x,E.y=B.y,"bonus_block4"==N.name&&(E.getComponent(cc.BoxCollider).tag=7),this.node.addChild(E)}for(p=1;p<40;p++){var R="coin"+p,T=o.getObject(R).sgNode,L=cc.instantiate(this.CoinsPre);L.x=T.x,L.y=T.y,this.node.addChild(L)}for(p=1;p<31;p++){var j=p.toString(),P=n.getObject(j).sgNode,F=cc.instantiate(this.ColliderPreName);F.setAnchorPoint(.5,.5),F.x=P.x,F.height=P.height,F.y=P.y-P.height,F.width=P.width,F.addComponent(cc.BoxCollider),F.getComponent(cc.BoxCollider).size=cc.size(P.width,P.height),F.getComponent(cc.BoxCollider).offset=cc.v2(P.width/2,P.height/2),F.getComponent(cc.BoxCollider).tag=5,this.node.addChild(F)}var O=t.getObject("rabbit");cc.p(O.sgNode.x,O.sgNode.y)}}}}),cc._RF.pop()},{}],cancel:[function(e,t,i){"use strict";cc._RF.push(t,"495b2h39kBHi6zGzvwL8cQe","cancel"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.schedule(function(){var e=cc.scaleTo(.8,.9),t=cc.scaleTo(.8,1),i=cc.sequence(e,t),o=cc.repeatForever(i);this.node.runAction(o)},1),this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.isPaused()&&cc.director.resume(),cc.find("toLevelMenu").active=!1})},toActiveParent:function(){this.node.parent.active=!0,cc.director.pause()}}),cc._RF.pop()},{}],castle_finish:[function(e,t,i){"use strict";cc._RF.push(t,"38bb4Ig3RVDxLNDppaI/O0v","castle_finish"),cc.Class({extends:cc.Component,properties:{high_score_Audio:{default:null,url:cc.AudioClip}},onLoad:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){this.scheduleOnce(function(){cc.audioEngine.play(this.high_score_Audio,!1,Global.volume)},2),cc.director.loadScene("LevelMenu"),Global.level2Open=!0}}),cc._RF.pop()},{}],floorMove:[function(e,t,i){"use strict";cc._RF.push(t,"035bcoaa9dDya5vioIrSzFJ","floorMove"),cc.Class({extends:cc.Component,properties:{hero:{default:null,type:cc.Node}},onLoad:function(){this.node.runAction(cc.follow(this.hero))}}),cc._RF.pop()},{}],leve2:[function(e,t,i){"use strict";cc._RF.push(t,"aed88ArpGxPmJnHjEw7j5ZA","leve2"),cc.Class({extends:cc.Component,properties:{level2Sprite:cc.Node},onLoad:function(){if(Global.level2Open&&(this.level2Sprite.active=!1),!this.level2Sprite.active){var e=cc.scaleTo(.8,.9),t=cc.scaleTo(.8,1),i=cc.sequence(e,t),o=cc.repeatForever(i);this.node.runAction(o),this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene("Main")})}}}),cc._RF.pop()},{}],level1:[function(e,t,i){"use strict";cc._RF.push(t,"f6cb0AIuHJGSJluioonkah0","level1"),cc.Class({extends:cc.Component,properties:{menu_music:{default:null,url:cc.AudioClip}},onLoad:function(){if(cc.audioEngine.stopAll(),cc.audioEngine.play(this.menu_music,!0,Global.volume),!Global.level2Open){var e=cc.scaleTo(.8,.9),t=cc.scaleTo(.8,1),i=cc.sequence(e,t),o=cc.repeatForever(i);this.node.runAction(o)}this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene("Main")})}}),cc._RF.pop()},{}],mushroom:[function(e,t,i){"use strict";cc._RF.push(t,"fb4979Hh5ZDkaqFtALn9b3N","mushroom"),cc.Class({extends:cc.Component,properties:{gravity:-1e3,jumpHeight:0,jumpDuring:0,speed:cc.v2(0,0),maxSpeed:cc.v2(2e3,2e3),mushroom_catch_Audio:{default:null,url:cc.AudioClip},mushroom_appear_Audio:{default:null,url:cc.AudioClip}},setJumpAction:function(){var e=cc.fadeIn(0),t=cc.moveBy(this.jumpDuring,cc.p(0,this.jumpHeight)).easing(cc.easeCubicActionOut());return cc.sequence(e,t)},onLoad:function(){this.touchingNumber=0,cc.director.getCollisionManager().enabled=!0,cc.audioEngine.play(this.mushroom_appear_Audio,!1,Global.volume),this.jumpAction=this.setJumpAction(),this.node.runAction(this.jumpAction)},onCollisionEnter:function(e,t){var i=e.world.aabb,o=e.world.preAabb.clone(),n=t.world.aabb,c=t.world.preAabb.clone();c.y=n.y,o.y=i.y,2!=e.tag&&3!=e.tag&&5!=e.tag||this.touchingNumber++,0==e.tag&&(cc.audioEngine.play(this.mushroom_catch_Audio,!1,Global.volume),Global.addSpeed=1.2,this.scheduleOnce(function(){this.node.removeFromParent()},.2)),cc.Intersection.rectRect(c,o)},onCollisionExit:function(e){2!=e.tag&&3!=e.tag&&5!=e.tag||this.touchingNumber--},update:function(e){0===this.touchingNumber&&(this.speed.y+=this.gravity*e,Math.abs(this.speed.y)>this.maxSpeed.y&&(this.speed.y=0<this.speed.y?this.maxSpeed.y:-this.maxSpeed.y))}}),cc._RF.pop()},{}],storageManager:[function(e,t,i){"use strict";cc._RF.push(t,"f7aa0qZxrxJhJ7omun042Ei","storageManager");var o=(cc.sys.localStorage.highestScore||(cc.sys.localStorage.highestScore=0),{getHighestScore:function(){return cc.sys.localStorage.highestScore},setHighestScore:function(e){cc.sys.localStorage.highestScore=e}});t.exports=o,cc._RF.pop()},{}],time:[function(e,t,i){"use strict";cc._RF.push(t,"4130brgUQhBvJ03UOrXesix","time"),cc.Class({extends:cc.Component,properties:{timeLabel:{default:null,type:cc.Label},timeout:cc.Label,gameTime:400},onLoad:function(){this.schedule(function(){Global.playIsAlive&&(this.gameTime--,this.timeLabel.string=""+this.gameTime,this.gameTime<=0&&(Global.playIsAlive=!1,this.timeout.string="Time out !"))},1)}}),cc._RF.pop()},{}],touchButton:[function(e,t,i){"use strict";cc._RF.push(t,"87ecaG9UT5DkbPaOKCeDZEY","touchButton"),cc.Class({extends:cc.Component,properties:{leftButton:cc.Node,rightButton:cc.Node,downButton:cc.Node,jumpButton:cc.Node,player:cc.Node},onLoad:function(){this.leftButton.on("touchstart",this.leftButtonTouchstart,this),this.leftButton.on("touchend",this.leftButtonTouchend,this),this.leftButton.on("touchcancel",this.leftButtonTouchcancel,this),this.rightButton.on("touchstart",this.rightButtonTouchstart,this),this.rightButton.on("touchend",this.rightButtonTouchend,this),this.rightButton.on("touchcancel",this.rightButtonTouchcancel,this),this.downButton.on("touchstart",this.downButtonTouchstart,this),this.downButton.on("touchend",this.downButtonTouchend,this),this.downButton.on("touchcancel",this.downButtonTouchcancel,this),this.jumpButton.on("touchstart",this.jumpButtonTouchstart,this),this.jumpButton.on("touchend",this.jumpButtonTouchend,this),this.jumpButton.on("touchcancel",this.jumpButtonTouchcancel,this),this.playerScript=this.player.getComponent("Player")},leftButtonTouchstart:function(){this.playerScript.playerLeft()},leftButtonTouchend:function(){this.playerScript.noLRControlPlayer()},leftButtonTouchcancel:function(){this.playerScript.noLRControlPlayer()},rightButtonTouchstart:function(){this.playerScript.playerRight()},rightButtonTouchend:function(){this.playerScript.noLRControlPlayer()},rightButtonTouchcancel:function(){this.playerScript.noLRControlPlayer()},downButtonTouchstart:function(){this.playerScript.playerDown()},downButtonTouchend:function(){this.playerScript.noDownControlPlayer()},downButtonTouchcancel:function(){this.playerScript.noDownControlPlayer()},jumpButtonTouchstart:function(){this.playerScript.playerUp()},jumpButtonTouchend:function(){this.playerScript.noUpControlPlayer()},jumpButtonTouchcancel:function(){this.playerScript.noUpControlPlayer()},player_idle:function(){this.anim.play("player_idle")},player_walk:function(){this.anim.play("player_walk")},player_jump:function(){this.anim.play("player_jump")},player_hunker:function(){this.anim.play("player_hunker")},rabbitJump:function(){this.anim.play("player_jump"),this.speed.y=.5*this.jumpSpeed}}),cc._RF.pop()},{}],volume:[function(e,t,i){"use strict";cc._RF.push(t,"817a7Z8gqROqaZpc2k9INXt","volume"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}]},{},["BackOpenScence","Begin","Cameras","Coin","CoinJump","CreateCoin","Enemy","Follow","GameBegin","Globals","PauseAndResume","Player","PreBegin","Question","Score","Snail","TiledMap01","cancel","castle_finish","floorMove","leve2","level1","mushroom","storageManager","time","touchButton","volume"]);